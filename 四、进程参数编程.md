# å››ã€è¿›ç¨‹å‚æ•°ç¼–ç¨‹

## ï¼ˆä¸€ï¼‰é—®é¢˜

> â“execve(â€¦)çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ
>
> <img src="å››ã€è¿›ç¨‹å‚æ•°ç¼–ç¨‹.assets/image-20230720171724696.png" alt="image-20230720171724696" />

### 1.å†è®ºexecve(â€¦)

><img src="å››ã€è¿›ç¨‹å‚æ•°ç¼–ç¨‹.assets/image-20230720171808587.png" alt="image-20230720171808587" />

### 2.mainå‡½æ•°ï¼ˆé»˜è®¤è¿›ç¨‹å…¥å£ï¼‰

>```c++
>int main(int argc, char* argv[])
>```
>
><img src="å››ã€è¿›ç¨‹å‚æ•°ç¼–ç¨‹.assets/image-20230720172042953.png" alt="image-20230720172042953" />

### 3.è¿›ç¨‹ç©ºé—´æ¦‚è¦å›¾

><img src="å››ã€è¿›ç¨‹å‚æ•°ç¼–ç¨‹.assets/image-20230720172238522.png" alt="image-20230720172238522" />
>
>```
>initialized dataæ˜¯å·²åˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å±€éƒ¨å˜é‡ï¼Œå®ƒä»¬çš„åˆå§‹å€¼æ˜¯å­˜æ”¾åœ¨ä»£ç æ®µçš„ï¼Œæ‰€ä»¥å®ƒä¸Žtextï¼ˆä»£ç æ®µï¼‰æŒ¨åœ¨ä¸€èµ·ã€‚
>such asï¼šint a = 888;    888è¿™ä¸ªåˆå§‹å€¼å­˜åœ¨ä»£ç æ®µä¸­
>```

### 4.ç¼–ç¨‹å®žéªŒï¼šè¿›ç¨‹å‚æ•°å‰–æž

#### ï¼ˆ1ï¼‰è¿›ç¨‹ç©ºé—´å®žéªŒ

>[ä»£ç å‚è€ƒé“¾æŽ¥](https://github.com/WONGZEONJYU/Linux_System_Program/blob/main/3.Process_Parameter/mem.cpp)
>
><img src="å››ã€è¿›ç¨‹å‚æ•°ç¼–ç¨‹.assets/image-20230720173130114.png" alt="image-20230720173130114" />
>
><img src="å››ã€è¿›ç¨‹å‚æ•°ç¼–ç¨‹.assets/image-20230720173140492.png" alt="image-20230720173140492" />

#### ï¼ˆ2ï¼‰çˆ¶å­è¿›ç¨‹å‚æ•°å®žéªŒ

>â“ä¸‹é¢çš„ç¨‹åºè¾“å‡ºä»€ä¹ˆï¼Ÿwhyï¼Ÿ
>
><img src="å››ã€è¿›ç¨‹å‚æ•°ç¼–ç¨‹.assets/image-20230720173233166.png" alt="image-20230720173233166" />
>
>[parent.cppå‚è€ƒä»£ç ](https://github.com/WONGZEONJYU/Linux_System_Program/blob/main/3.Process_Parameter/parent.cpp)
>
>[child.cpp](https://github.com/WONGZEONJYU/Linux_System_Program/blob/main/3.Process_Parameter/child.cpp)
>
><img src="å››ã€è¿›ç¨‹å‚æ•°ç¼–ç¨‹.assets/image-20230720173402504.png" alt="image-20230720173402504" />
>
><img src="å››ã€è¿›ç¨‹å‚æ•°ç¼–ç¨‹.assets/image-20230720173412348.png" alt="image-20230720173412348" />

### 5.Linuxå¯åŠ¨å‚æ•°ï¼ˆå‘½ä»¤è¡Œå‚æ•°ï¼‰è§„èŒƒ

>ðŸ’¨è¿›ç¨‹å‚æ•°ã€å‘½ä»¤è¡Œå‚æ•°ã€å¯åŠ¨å‚æ•°éƒ½æ˜¯ä¸€ä¸ªä¸œè¥¿
>
>* ç”± $\color{red}{é€‰é¡¹}$ã€$\color{red}{é€‰é¡¹å€¼}$ã€$\color{red}{æ“ä½œæ•°}$ ç»„æˆ
>* é€‰é¡¹ç”±çŸ­æ¨ªçº¿ï¼ˆ - ï¼‰å¼€å§‹ï¼Œé€‰é¡¹åå¿…é¡»æ˜¯å•ä¸ªå­—æ¯æˆ–æ•°å­—å­—ç¬¦ï¼ˆ-cæˆ–è€…-3ï¼‰
>* é€‰é¡¹å¯ä»¥æœ‰é€‰é¡¹å€¼ï¼Œé€‰é¡¹ä¸Žé€‰é¡¹å€¼ä¹‹é—´å¯ç”¨ç©ºæ ¼åˆ†éš”ï¼ˆ -o test æˆ–è€… -otest ï¼‰
>* å¦‚æžœå¤šä¸ªé€‰é¡¹å‡æ— é€‰é¡¹å€¼ï¼Œå¯åˆè€Œä¸ºä¸€ï¼ˆ -a -b -c æˆ–è€… -abc ï¼‰
>* æ—¢ä¸æ˜¯é€‰é¡¹ï¼Œä¹Ÿä¸èƒ½ä½œä¸ºé€‰é¡¹å€¼çš„å‚æ•°æ˜¯æ“ä½œæ•°ï¼ˆä¾‹ï¼šgcc $\color{red}{test.c}$ -o test.outï¼Œå…¶ä¸­$\color{red}{test.c}$å°±æ˜¯æ“ä½œæ•°ï¼‰
>* ç¬¬ä¸€æ¬¡å‡ºçŽ°çš„åŒæ¨ªçº¿ï¼ˆ â€“$\color{red}{â€“}$ ï¼‰ç”¨äºŽç»“æŸæ‰€æœ‰é€‰é¡¹ï¼ŒåŽç»­å‚æ•°ä¸ºæ“ä½œæ•°

#### (1) Linuxå¯åŠ¨å‚æ•°ï¼ˆå‘½ä»¤è¡Œå‚æ•°ï¼‰è§£æž

>* è§„åˆ™ï¼šif:s ==> -i -s $\color{red}{-f+é€‰é¡¹å€¼}$
>
>```
>-fåŽé¢å¿…é¡»æœ‰é€‰é¡¹å€¼ã€‚
>é€‰é¡¹åªå­˜åœ¨ å‡ºçŽ° æˆ– ä¸å‡ºçŽ° çš„æƒ…å†µï¼Œæ²¡æœ‰è§„å®šå‡ºçŽ°é¡ºåºã€‚
>é¡ºåºå¯ä»¥æ˜¯è¿™ä¸‰ç§æƒ…å†µï¼šif:s ==> isf: ==>f:is
>```
>
>* å®žä¾‹ï¼š
>
><img src="å››ã€è¿›ç¨‹å‚æ•°ç¼–ç¨‹.assets/image-20230720174021607.png" alt="image-20230720174021607" />

#### (2) Linuxå¯åŠ¨å‚æ•°ï¼ˆå‘½ä»¤è¡Œå‚æ•°ï¼‰ç¼–ç¨‹

> <img src="å››ã€è¿›ç¨‹å‚æ•°ç¼–ç¨‹.assets/image-20230720174130015.png" alt="image-20230720174130015" />
>
> * `getopt(â€¦)` ä»Ž argc å’Œ argv ä¸­èŽ·å–ä¸‹ä¸€ä¸ªé€‰é¡¹
>
>   * é€‰é¡¹ $\color{red}{åˆæ³•}$ï¼šè¿”å›žå€¼ ä¸º é€‰é¡¹å­—ç¬¦ï¼Œoptarg æŒ‡å‘ é€‰é¡¹å€¼å­—ç¬¦ä¸²
>
>   <img src="å››ã€è¿›ç¨‹å‚æ•°ç¼–ç¨‹.assets/image-20230720174252486.png" alt="image-20230720174252486" />
>
>   * é€‰é¡¹ $\color{red}{ä¸åˆæ³•}$ï¼š$\color{green}{ è¿”å›žå­—ç¬¦ "?" , optopt ä¿å­˜ å½“å‰é€‰é¡¹å­—ç¬¦(é”™è¯¯)}$
>   * é€‰é¡¹ $\color{red}{åˆæ³•ä½†ç¼ºå°‘é€‰é¡¹å€¼}$ï¼š$\color{green}{è¿”å›ž ":"ï¼Œoptopt ä¿å­˜ å½“å‰é€‰é¡¹å­—ç¬¦(é”™è¯¯)(è¿™é‡Œéœ€å‚è€ƒæ‰©å±•è§„åˆ™)}$
>
> * é»˜è®¤æƒ…å†µä¸‹ï¼š`getopt(â€¦)`å¯¹argvè¿›è¡Œé‡æŽ’ï¼Œ$\color{green}{æ‰€æœ‰æ“ä½œæ•°ä½äºŽæœ€åŽä½ç½®}$
>
> <img src="å››ã€è¿›ç¨‹å‚æ•°ç¼–ç¨‹.assets/image-20230720174959833.png" alt="image-20230720174959833" />
>
> * $\color{red}{optstring}$è§„åˆ™ çš„æ‰©å±•å®šä¹‰
>   * èµ·å§‹å­—ç¬¦å¯ä»¥æ˜¯ â€œ ï¼šï¼Œ+ï¼Œ- æˆ–çœç•¥ â€
>     * $\color{red}{çœç•¥}$ï¼šå‡ºçŽ°é€‰é¡¹é”™è¯¯æ—¶ï¼Œç¨‹åºä¸­é€šè¿‡â€œ : â€æˆ–â€œ ? â€è¿›è¡Œå¤„ç†å¹¶ç»™å‡ºé»˜è®¤é”™è¯¯æç¤º
>     * $\color{red}{":"}$ï¼šé”™è¯¯æç¤ºå¼€å…³ï¼Œç¨‹åºä¸­é€šè¿‡è¿”å›žå€¼â€œ : â€æˆ–â€œ ? â€è¿›è¡Œå¤„ç†ï¼ˆæ— é»˜è®¤é”™è¯¯æç¤ºï¼‰
>     * $\color{red}{"+"}$ï¼šæå‰åœæ­¢å¼€å…³ï¼Œé‡è§æ“ä½œæ•°æ—¶ï¼Œè¿”å›ž -1ï¼Œè®¤ä¸ºé€‰é¡¹å¤„ç†å®Œæ¯•ï¼ˆåŽç»­éƒ½æ˜¯æ“ä½œæ•°ï¼‰
>     * $\color{red}{"-"}$ ï¼šä¸é‡æŽ’å¼€å…³ï¼Œé‡è§æ“ä½œæ•°æ—¶ï¼Œè¿”å›ž 1ï¼ŒoptargæŒ‡å‘æ“ä½œæ•°å­—ç¬¦ä¸²
>     * $\color{red}{ç»„åˆ}$: "+:" or "-:"
>
> ```
> â€¼ï¸ getopt(â€¦)ä»€ä¹ˆæ—¶å€™è¿”å›ž " : " ? å½“optstringå‚æ•°ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯" : "ï¼Œåˆ™é‡åˆ°ç¼ºå°‘é€‰é¡¹å€¼è¿”å›ž " : " , å¦åˆ™å°±è¿”å›ž " ? "ã€‚getopt_long(...)åŒç†é€‚ç”¨
> ```

#### (3) ç¼–ç¨‹å®žéªŒï¼šè¿›ç¨‹å‚æ•°ç¼–ç¨‹    

>[ä»£ç å‚è€ƒé“¾æŽ¥](https://github.com/WONGZEONJYU/Linux_System_Program/blob/main/3.Process_Parameter/main.cpp)

##### 1)è§„åˆ™ï¼š"$\color{red}{f:is}$" 

><img src="å››ã€è¿›ç¨‹å‚æ•°ç¼–ç¨‹.assets/image-20230720180155919.png" alt="image-20230720180155919" />
>
><img src="å››ã€è¿›ç¨‹å‚æ•°ç¼–ç¨‹.assets/image-20230720180215332.png" alt="image-20230720180215332" />
>
>





